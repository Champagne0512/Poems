-- 诗词网站示例数据
-- 这些数据将在数据库部署后提供丰富的测试内容

-- 插入更多示例诗词（扩展原有数据）
INSERT INTO poems (id, title, author, dynasty, content, analysis, tags, view_count, favorite_count, comment_count) VALUES
-- 唐代诗词
(
    '6ba7b810-9dad-11d1-80b4-00c04fd430c8',
    '将进酒',
    '李白',
    '唐代',
    '君不见黄河之水天上来，奔流到海不复回。\n君不见高堂明镜悲白发，朝如青丝暮成雪。\n人生得意须尽欢，莫使金樽空对月。\n天生我材必有用，千金散尽还复来。',
    '这首诗表达了李白豪放不羁的人生态度和对人生的深刻思考，展现了盛唐气象。',
    '{"豪放", "饮酒", "人生"}',
    1250,
    89,
    23
),
(
    '6ba7b811-9dad-11d1-80b4-00c04fd430c8',
    '春望',
    '杜甫',
    '唐代',
    '国破山河在，城春草木深。\n感时花溅泪，恨别鸟惊心。\n烽火连三月，家书抵万金。\n白头搔更短，浑欲不胜簪。',
    '这首诗描绘了安史之乱后长安的荒凉景象，表达了诗人忧国忧民的情怀。',
    '{"忧国", "战争", "春天"}',
    980,
    67,
    18
),
(
    '6ba7b812-9dad-11d1-80b4-00c04fd430c8',
    '枫桥夜泊',
    '张继',
    '唐代',
    '月落乌啼霜满天，江枫渔火对愁眠。\n姑苏城外寒山寺，夜半钟声到客船。',
    '这首诗描绘了江南秋夜的景色，意境深远，表达了游子的思乡之情。',
    '{"秋夜", "思乡", "江南"}',
    890,
    45,
    12
),
(
    '6ba7b813-9dad-11d1-80b4-00c04fd430c8',
    '游子吟',
    '孟郊',
    '唐代',
    '慈母手中线，游子身上衣。\n临行密密缝，意恐迟迟归。\n谁言寸草心，报得三春晖。',
    '这首诗歌颂了母爱的伟大，语言质朴，情感真挚，成为千古传诵的名篇。',
    '{"母爱", "亲情", "感恩"}',
    1560,
    120,
    35
),
-- 宋代诗词
(
    '6ba7b814-9dad-11d1-80b4-00c04fd430c8',
    '水调歌头·明月几时有',
    '苏轼',
    '宋代',
    '明月几时有？把酒问青天。\n不知天上宫阙，今夕是何年。\n我欲乘风归去，又恐琼楼玉宇，高处不胜寒。\n起舞弄清影，何似在人间。',
    '这首词表达了苏轼对人生的思考和对亲人的思念，意境开阔，语言优美。',
    '{"中秋", "思念", "人生"}',
    2100,
    156,
    42
),
(
    '6ba7b815-9dad-11d1-80b4-00c04fd430c8',
    '声声慢·寻寻觅觅',
    '李清照',
    '宋代',
    '寻寻觅觅，冷冷清清，凄凄惨惨戚戚。\n乍暖还寒时候，最难将息。\n三杯两盏淡酒，怎敌他、晚来风急？\n雁过也，正伤心，却是旧时相识。',
    '这首词表达了李清照在国破家亡后的孤独和哀愁，语言凄美，情感深沉。',
    '{"哀愁", "孤独", "秋天"}',
    1340,
    78,
    28
),
(
    '6ba7b816-9dad-11d1-80b4-00c04fd430c8',
    '青玉案·元夕',
    '辛弃疾',
    '宋代',
    '东风夜放花千树，更吹落、星如雨。\n宝马雕车香满路。\n凤箫声动，玉壶光转，一夜鱼龙舞。',
    '这首词描绘了元宵节的热闹景象，语言华丽，意境优美。',
    '{"元宵", "热闹", "节日"}',
    980,
    56,
    19
),
-- 元代诗词
(
    '6ba7b817-9dad-11d1-80b4-00c04fd430c8',
    '天净沙·秋思',
    '马致远',
    '元代',
    '枯藤老树昏鸦，小桥流水人家，古道西风瘦马。\n夕阳西下，断肠人在天涯。',
    '这首小令通过一系列意象的叠加，描绘了游子思乡的凄凉心境。',
    '{"秋思", "游子", "凄凉"}',
    1670,
    92,
    31
),
-- 明代诗词
(
    '6ba7b818-9dad-11d1-80b4-00c04fd430c8',
    '石灰吟',
    '于谦',
    '明代',
    '千锤万凿出深山，烈火焚烧若等闲。\n粉骨碎身浑不怕，要留清白在人间。',
    '这首诗以石灰自喻，表达了诗人坚贞不屈的品格和崇高的理想。',
    '{"坚贞", "品格", "理想"}',
    760,
    34,
    14
),
-- 清代诗词
(
    '6ba7b819-9dad-11d1-80b4-00c04fd430c8',
    '己亥杂诗',
    '龚自珍',
    '清代',
    '九州生气恃风雷，万马齐喑究可哀。\n我劝天公重抖擞，不拘一格降人才。',
    '这首诗表达了诗人对时局的忧虑和对改革的渴望，具有强烈的时代感。',
    '{"改革", "人才", "时局"}',
    890,
    41,
    16
),
-- 更多唐代诗词
(
    '6ba7b81a-9dad-11d1-80b4-00c04fd430c8',
    '鹿柴',
    '王维',
    '唐代',
    '空山不见人，但闻人语响。\n返景入深林，复照青苔上。',
    '这首诗描绘了深山的幽静景色，意境空灵，体现了王维诗歌的禅意。',
    '{"幽静", "禅意", "山林"}',
    670,
    28,
    9
),
(
    '6ba7b81b-9dad-11d1-80b4-00c04fd430c8',
    '相思',
    '王维',
    '唐代',
    '红豆生南国，春来发几枝。\n愿君多采撷，此物最相思。',
    '这首诗以红豆象征相思，语言简洁，情感真挚，成为爱情诗的经典。',
    '{"相思", "爱情", "红豆"}',
    1450,
    105,
    38
),
(
    '6ba7b81c-9dad-11d1-80b4-00c04fd430c8',
    '出塞',
    '王昌龄',
    '唐代',
    '秦时明月汉时关，万里长征人未还。\n但使龙城飞将在，不教胡马度阴山。',
    '这首诗表达了诗人对边关将士的同情和对国家安全的关切。',
    '{"边塞", "战争", "爱国"}',
    1120,
    63,
    21
),
-- 宋代词作
(
    '6ba7b81d-9dad-11d1-80b4-00c04fd430c8',
    '雨霖铃·寒蝉凄切',
    '柳永',
    '宋代',
    '寒蝉凄切，对长亭晚，骤雨初歇。\n都门帐饮无绪，留恋处，兰舟催发。\n执手相看泪眼，竟无语凝噎。\n念去去，千里烟波，暮霭沉沉楚天阔。',
    '这首词描绘了离别的伤感，语言优美，情感细腻，是婉约词的代表作。',
    '{"离别", "伤感", "爱情"}',
    1340,
    71,
    26
),
(
    '6ba7b81e-9dad-11d1-80b4-00c04fd430c8',
    '鹊桥仙·纤云弄巧',
    '秦观',
    '宋代',
    '纤云弄巧，飞星传恨，银汉迢迢暗度。\n金风玉露一相逢，便胜却人间无数。\n柔情似水，佳期如梦，忍顾鹊桥归路。\n两情若是久长时，又岂在朝朝暮暮。',
    '这首词以牛郎织女的故事为背景，歌颂了真挚的爱情，意境优美。',
    '{"七夕", "爱情", "神话"}',
    1560,
    89,
    32
),
-- 元代散曲
(
    '6ba7b81f-9dad-11d1-80b4-00c04fd430c8',
    '山坡羊·潼关怀古',
    '张养浩',
    '元代',
    '峰峦如聚，波涛如怒，山河表里潼关路。\n望西都，意踌躇。\n伤心秦汉经行处，宫阙万间都做了土。\n兴，百姓苦；亡，百姓苦。',
    '这首散曲表达了作者对历史兴亡的感慨和对百姓苦难的同情。',
    '{"怀古", "民生", "历史"}',
    980,
    45,
    17
),
-- 明代诗歌
(
    '6ba7b820-9dad-11d1-80b4-00c04fd430c8',
    '临江仙·滚滚长江东逝水',
    '杨慎',
    '明代',
    '滚滚长江东逝水，浪花淘尽英雄。\n是非成败转头空。\n青山依旧在，几度夕阳红。\n白发渔樵江渚上，惯看秋月春风。\n一壶浊酒喜相逢。\n古今多少事，都付笑谈中。',
    '这首词以长江为背景，抒发了对历史兴亡的感慨，意境开阔。',
    '{"怀古", "长江", "人生"}',
    1780,
    112,
    41
),
-- 清代诗歌
(
    '6ba7b821-9dad-11d1-80b4-00c04fd430c8',
    '村居',
    '高鼎',
    '清代',
    '草长莺飞二月天，拂堤杨柳醉春烟。\n儿童散学归来早，忙趁东风放纸鸢。',
    '这首诗描绘了春天乡村的美丽景色和儿童的欢乐生活，语言清新。',
    '{"春天", "乡村", "儿童"}',
    760,
    38,
    13
),
-- 近代诗歌
(
    '6ba7b822-9dad-11d1-80b4-00c04fd430c8',
    '再别康桥',
    '徐志摩',
    '近代',
    '轻轻的我走了，正如我轻轻的来；\n我轻轻的招手，作别西天的云彩。\n那河畔的金柳，是夕阳中的新娘；\n波光里的艳影，在我的心头荡漾。',
    '这首诗表达了诗人对康桥的深情告别，语言优美，情感真挚。',
    '{"离别", "康桥", "现代"}',
    890,
    52,
    19
)
ON CONFLICT (id) DO NOTHING;

-- 注意：以下用户数据和互动数据需要在真实用户注册后才能插入
-- 这些是示例SQL，实际使用时需要替换为真实的用户ID

-- 示例用户数据（需要在Supabase Auth中创建用户后运行）
-- INSERT INTO profiles (id, username, avatar_url, bio) VALUES
-- ('11111111-1111-1111-1111-111111111111', '诗词爱好者', 'https://example.com/avatar1.jpg', '热爱中国古典诗词，喜欢在诗词中寻找生活的诗意。'),
-- ('22222222-2222-2222-2222-222222222222', '文学研究者', 'https://example.com/avatar2.jpg', '专注于中国古典文学研究，尤其喜欢唐诗宋词。'),
-- ('33333333-3333-3333-3333-333333333333', '传统文化传承者', 'https://example.com/avatar3.jpg', '致力于传统文化的传承和推广。');

-- 示例收藏数据
-- INSERT INTO favorites (user_id, poem_id) VALUES
-- ('11111111-1111-1111-1111-111111111111', '6ba7b810-9dad-11d1-80b4-00c04fd430c8'), -- 诗词爱好者收藏《将进酒》
-- ('11111111-1111-1111-1111-111111111111', '6ba7b814-9dad-11d1-80b4-00c04fd430c8'), -- 诗词爱好者收藏《水调歌头》
-- ('22222222-2222-2222-2222-222222222222', '6ba7b811-9dad-11d1-80b4-00c04fd430c8'), -- 文学研究者收藏《春望》
-- ('22222222-2222-2222-2222-222222222222', '6ba7b815-9dad-11d1-80b4-00c04fd430c8'), -- 文学研究者收藏《声声慢》
-- ('33333333-3333-3333-3333-333333333333', '6ba7b812-9dad-11d1-80b4-00c04fd430c8'), -- 传统文化传承者收藏《枫桥夜泊》
-- ('33333333-3333-3333-3333-333333333333', '6ba7b813-9dad-11d1-80b4-00c04fd430c8')  -- 传统文化传承者收藏《游子吟》
-- ON CONFLICT (user_id, poem_id) DO NOTHING;

-- 示例评论数据
-- INSERT INTO comments (user_id, poem_id, content) VALUES
-- ('11111111-1111-1111-1111-111111111111', '6ba7b810-9dad-11d1-80b4-00c04fd430c8', '李白的《将进酒》真是豪放不羁，读来令人心潮澎湃！'),
-- ('22222222-2222-2222-2222-222222222222', '6ba7b810-9dad-11d1-80b4-00c04fd430c8', '这首诗展现了盛唐时期文人的豪迈气概，是李白诗歌的代表作。'),
-- ('33333333-3333-3333-3333-333333333333', '6ba7b814-9dad-11d1-80b4-00c04fd430c8', '苏轼的《水调歌头》意境开阔，语言优美，是中秋词的经典。'),
-- ('11111111-1111-1111-1111-111111111111', '6ba7b813-9dad-11d1-80b4-00c04fd430c8', '《游子吟》歌颂了母爱的伟大，每次读来都令人感动。'),
-- ('22222222-2222-2222-2222-222222222222', '6ba7b815-9dad-11d1-80b4-00c04fd430c8', '李清照的《声声慢》语言凄美，情感深沉，是婉约词的代表。')
-- ON CONFLICT DO NOTHING;

-- 示例浏览历史数据
-- INSERT INTO browse_history (user_id, poem_id, viewed_at) VALUES
-- ('11111111-1111-1111-1111-111111111111', '6ba7b810-9dad-11d1-80b4-00c04fd430c8', NOW() - INTERVAL '1 day'),
-- ('11111111-1111-1111-1111-111111111111', '6ba7b814-9dad-11d1-80b4-00c04fd430c8', NOW() - INTERVAL '2 days'),
-- ('22222222-2222-2222-2222-222222222222', '6ba7b811-9dad-11d1-80b4-00c04fd430c8', NOW() - INTERVAL '3 days'),
-- ('22222222-2222-2222-2222-222222222222', '6ba7b815-9dad-11d1-80b4-00c04fd430c8', NOW() - INTERVAL '4 days'),
-- ('33333333-3333-3333-3333-333333333333', '6ba7b812-9dad-11d1-80b4-00c04fd430c8', NOW() - INTERVAL '5 days')
-- ON CONFLICT DO NOTHING;

-- 更新诗词统计信息（基于示例数据）
UPDATE poems SET 
    view_count = view_count + FLOOR(RANDOM() * 1000),
    favorite_count = favorite_count + FLOOR(RANDOM() * 100),
    comment_count = comment_count + FLOOR(RANDOM() * 50)
WHERE id IN (
    '6ba7b810-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b811-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b812-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b813-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b814-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b815-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b816-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b817-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b818-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b819-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b81a-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b81b-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b81c-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b81d-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b81e-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b81f-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b820-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b821-9dad-11d1-80b4-00c04fd430c8',
    '6ba7b822-9dad-11d1-80b4-00c04fd430c8'
);

-- 创建数据统计视图
CREATE OR REPLACE VIEW poem_statistics AS
SELECT 
    COUNT(*) as total_poems,
    COUNT(DISTINCT author) as total_authors,
    COUNT(DISTINCT dynasty) as total_dynasties,
    SUM(view_count) as total_views,
    SUM(favorite_count) as total_favorites,
    SUM(comment_count) as total_comments,
    AVG(view_count) as avg_views_per_poem
FROM poems;

-- 创建作者统计视图
CREATE OR REPLACE VIEW author_statistics AS
SELECT 
    author,
    dynasty,
    COUNT(*) as poem_count,
    SUM(view_count) as total_views,
    SUM(favorite_count) as total_favorites,
    ROUND(AVG(view_count), 2) as avg_views_per_poem
FROM poems
GROUP BY author, dynasty
ORDER BY poem_count DESC, total_views DESC;

-- 创建朝代统计视图
CREATE OR REPLACE VIEW dynasty_statistics AS
SELECT 
    dynasty,
    COUNT(*) as poem_count,
    COUNT(DISTINCT author) as author_count,
    SUM(view_count) as total_views,
    ROUND(AVG(view_count), 2) as avg_views_per_poem
FROM poems
GROUP BY dynasty
ORDER BY poem_count DESC;

-- 注释：在实际部署时，用户数据和互动数据需要等待真实用户注册后才能生成
-- 这些示例SQL提供了数据插入的模板，可以根据实际用户ID进行修改使用